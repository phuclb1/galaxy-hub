"use strict";(self.webpackChunktvf_nextjs_base=self.webpackChunktvf_nextjs_base||[]).push([[34],{"./stories/FileUpload.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>FileUpload_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/index.js"),next_image=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.5.3_esbuild@0.24.2_next@15.1.4_@babel+core@7.26.0_react-dom@19.0.0_react@_543wvazbix6hsujpe7gtebeycy/node_modules/@storybook/nextjs/dist/images/next-image.mjs"),upload=__webpack_require__("./node_modules/.pnpm/lucide-react@0.471.1_react@19.0.0/node_modules/lucide-react/dist/esm/icons/upload.js"),x=__webpack_require__("./node_modules/.pnpm/lucide-react@0.471.1_react@19.0.0/node_modules/lucide-react/dist/esm/icons/x.js"),file_text=__webpack_require__("./node_modules/.pnpm/lucide-react@0.471.1_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js"),es=__webpack_require__("./node_modules/.pnpm/react-dropzone@14.3.5_react@19.0.0/node_modules/react-dropzone/dist/es/index.js"),dist=__webpack_require__("./node_modules/.pnpm/sonner@1.7.2_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/sonner/dist/index.mjs"),utils=__webpack_require__("./lib/utils.ts"),ui_button=__webpack_require__("./components/ui/button.tsx"),scroll_area=__webpack_require__("./components/ui/scroll-area.tsx"),react_use_controllable_state_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.1.0_@types+react@19.0.6_react@19.0.0/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs"),react_progress_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-progress@1.1.2_@types+react-dom@19.0.3_@types+react@19.0.6__@types+react@19.0_llinpjsrwmjv7ik7ppsskbdr7u/node_modules/@radix-ui/react-progress/dist/index.mjs");const Progress=({className,value,...props})=>(0,jsx_runtime.jsx)(react_progress_dist.bL,{className:(0,utils.cn)("bg-secondary relative h-4 w-full overflow-hidden rounded-full",className),...props,children:(0,jsx_runtime.jsx)(react_progress_dist.C1,{className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(value||0)}%)`}})});function FileUpload(props){const{value:valueProp,onValueChange,onUpload,progresses,accept={"image/*":[]},maxSize=2097152,maxFileCount=1,multiple=!1,disabled=!1,className,...dropzoneProps}=props,[files,setFiles]=(0,react_use_controllable_state_dist.i)({prop:valueProp,onChange:onValueChange}),onDrop=react.useCallback(((acceptedFiles,rejectedFiles)=>{if(!multiple&&1===maxFileCount&&acceptedFiles.length>1)return void dist.oR.error("Cannot upload more than 1 file at a time");var _files_length;if((null!==(_files_length=null==files?void 0:files.length)&&void 0!==_files_length?_files_length:0)+acceptedFiles.length>maxFileCount)return void dist.oR.error(`Cannot upload more than ${maxFileCount} files`);const newFiles=acceptedFiles.map((file=>Object.assign(file,{preview:URL.createObjectURL(file)}))),updatedFiles=files?[...files,...newFiles]:newFiles;if(setFiles(updatedFiles),rejectedFiles.length>0&&rejectedFiles.forEach((({file})=>{dist.oR.error(`File ${file.name} was rejected`)})),onUpload&&updatedFiles.length>0&&updatedFiles.length<=maxFileCount){const target=updatedFiles.length>0?`${updatedFiles.length} files`:"file";dist.oR.promise(onUpload(updatedFiles),{loading:`Uploading ${target}...`,success:()=>(setFiles([]),`${target} uploaded`),error:`Failed to upload ${target}`})}}),[files,maxFileCount,multiple,onUpload,setFiles]);var _files_length;react.useEffect((()=>()=>{files&&files.forEach((file=>{isFileWithPreview(file)&&URL.revokeObjectURL(file.preview)}))}),[]);const isDisabled=disabled||(null!==(_files_length=null==files?void 0:files.length)&&void 0!==_files_length?_files_length:0)>=maxFileCount;return(0,jsx_runtime.jsxs)("div",{className:"relative flex flex-col gap-6 overflow-hidden",children:[(0,jsx_runtime.jsx)(es.Ay,{accept,disabled:isDisabled,maxFiles:maxFileCount,maxSize,multiple:maxFileCount>1||multiple,onDrop,children:({getRootProps,getInputProps,isDragActive})=>(0,jsx_runtime.jsxs)("div",{...getRootProps(),className:(0,utils.cn)("border-muted-foreground/25 hover:bg-muted/25 group relative grid h-52 w-full cursor-pointer place-items-center rounded-lg border-2 border-dashed px-5 py-2.5 text-center transition","ring-offset-background focus-visible:ring-ring focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",isDragActive&&"border-muted-foreground/50",isDisabled&&"pointer-events-none opacity-60",className),...dropzoneProps,children:[(0,jsx_runtime.jsx)("input",{...getInputProps()}),isDragActive?(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:px-5",children:[(0,jsx_runtime.jsx)("div",{className:"rounded-full border border-dashed p-3",children:(0,jsx_runtime.jsx)(upload.A,{"aria-hidden":"true",className:"size-7 text-muted-foreground"})}),(0,jsx_runtime.jsx)("p",{className:"text-muted-foreground font-medium",children:"Drop the files here"})]}):(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 sm:px-5",children:[(0,jsx_runtime.jsx)("div",{className:"rounded-full border border-dashed p-3",children:(0,jsx_runtime.jsx)(upload.A,{"aria-hidden":"true",className:"size-7 text-muted-foreground"})}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,jsx_runtime.jsxs)("p",{className:"text-muted-foreground font-medium",children:["Drag ","'n'"," drop files here, or click to select files"]}),(0,jsx_runtime.jsxs)("p",{className:"text-muted-foreground/70 text-sm",children:["You can upload",maxFileCount>1?` ${maxFileCount===1/0?"multiple":maxFileCount}\n                      files (up to ${(0,utils.z)(maxSize)} each)`:` a file with ${(0,utils.z)(maxSize)}`]})]})]})]})}),(null==files?void 0:files.length)?(0,jsx_runtime.jsx)(scroll_area.F,{className:"h-fit w-full px-3",children:(0,jsx_runtime.jsx)("div",{className:"flex max-h-48 flex-col gap-4",children:null==files?void 0:files.map(((file,index)=>(0,jsx_runtime.jsx)(FileCard,{file,onRemove:()=>function onRemove(index){if(!files)return;const newFiles=files.filter(((_,i)=>i!==index));setFiles(newFiles),null==onValueChange||onValueChange(newFiles)}(index),progress:null==progresses?void 0:progresses[file.name]},index)))})}):null]})}function FileCard({file,progress,onRemove}){return(0,jsx_runtime.jsxs)("div",{className:"relative flex items-center gap-2.5",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-1 gap-2.5",children:[isFileWithPreview(file)?(0,jsx_runtime.jsx)(FilePreview,{file}):null,(0,jsx_runtime.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-px",children:[(0,jsx_runtime.jsx)("p",{className:"text-foreground/80 line-clamp-1 text-sm font-medium",children:file.name}),(0,jsx_runtime.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,utils.z)(file.size)})]}),progress?(0,jsx_runtime.jsx)(Progress,{value:progress}):null]})]}),(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2",children:(0,jsx_runtime.jsxs)(ui_button.$,{className:"size-7",onClick:onRemove,size:"icon",type:"button",variant:"outline",children:[(0,jsx_runtime.jsx)(x.A,{"aria-hidden":"true",className:"size-4"}),(0,jsx_runtime.jsx)("span",{className:"sr-only",children:"Remove file"})]})})]})}function isFileWithPreview(file){return"preview"in file&&"string"==typeof file.preview}function FilePreview({file}){return file.type.startsWith("image/")?(0,jsx_runtime.jsx)(next_image.A,{alt:file.name,className:"aspect-square shrink-0 rounded-md object-cover",height:48,loading:"lazy",src:file.preview,width:48}):(0,jsx_runtime.jsx)(file_text.A,{"aria-hidden":"true",className:"size-10 text-muted-foreground"})}Progress.__docgenInfo={description:"",methods:[],displayName:"Progress"},FileUpload.__docgenInfo={description:"",methods:[],displayName:"FileUpload",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"File"}],raw:"File[]"},description:"Value of the uploader.\n@type File[]\n@default undefined\n@example value={files}"},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: File[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"File"}],raw:"File[]"},name:"files"}],return:{name:"void"}}},description:"Function to be called when the value changes.\n@type (files: File[]) => void\n@default undefined\n@example onValueChange={(files) => setFiles(files)}"},onUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: File[]) => Promise<void>",signature:{arguments:[{type:{name:"Array",elements:[{name:"File"}],raw:"File[]"},name:"files"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:"Function to be called when files are uploaded.\n@type (files: File[]) => Promise<void>\n@default undefined\n@example onUpload={(files) => uploadFiles(files)}"},progresses:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"number"}],raw:"Record<string, number>"},description:'Progress of the uploaded files.\n@type Record<string, number> | undefined\n@default undefined\n@example progresses={{ "file1.png": 50 }}'},accept:{required:!1,tsType:{name:'DropzoneProps["accept"]',raw:'DropzoneProps["accept"]'},description:'Accepted file types for the uploader.\n@type { [key: string]: string[]}\n@default\n```ts\n{ "image/*": [] }\n```\n@example accept={["image/png", "image/jpeg"]}'},maxSize:{required:!1,tsType:{name:'DropzoneProps["maxSize"]',raw:'DropzoneProps["maxSize"]'},description:"Maximum file size for the uploader.\n@type number | undefined\n@default 1024 * 1024 * 2 // 2MB\n@example maxSize={1024 * 1024 * 2} // 2MB"},maxFileCount:{required:!1,tsType:{name:'DropzoneProps["maxFiles"]',raw:'DropzoneProps["maxFiles"]'},description:"Maximum number of files for the uploader.\n@type number | undefined\n@default 1\n@example maxFileCount={4}"},multiple:{required:!1,tsType:{name:"boolean"},description:"Whether the uploader should accept multiple files.\n@type boolean\n@default false\n@example multiple"},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the uploader is disabled.\n@type boolean\n@default false\n@example disabled"}}};const FileUpload_stories={title:"Primitive/FileUpload",component:FileUpload,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{},args:void 0,decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"w-96",children:(0,jsx_runtime.jsx)(Story,{})})]},Primary={args:{}},__namedExportsOrder=["Primary"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {}\n}",...Primary.parameters?.docs?.source}}}},"./components/ui/button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button,r:()=>buttonVariants});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-slot@1.1.1_@types+react@19.0.6_react@19.0.0/node_modules/@radix-ui/react-slot/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./lib/utils.ts");const buttonVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("ring-offset-background focus-visible:outline-hidden focus-visible:ring-ring [&_svg]:size-4 inline-flex cursor-pointer items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-input bg-background hover:bg-accent hover:text-accent-foreground border",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,variant,size,asChild=!1,...props},ref)=>{const Comp=asChild?_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__.DX:"button";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Comp,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_4__.cn)(buttonVariants({variant,size,className})),ref,...props})}));Button.displayName="Button",Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["VariantProps"]}},"./components/ui/scroll-area.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>ScrollArea});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.4_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-scroll-area@1.2.2_@types+react-dom@19.0.3_@types+react@19.0.6__@types+react@1_xrd3owgyg6kdzstici5urs4yne/node_modules/@radix-ui/react-scroll-area/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const ScrollArea=({className,children,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_1__.bL,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("relative overflow-hidden",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_1__.LM,{className:"h-full w-full rounded-[inherit]",children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ScrollBar,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_1__.OK,{})]}),ScrollBar=({className,orientation="vertical",...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_1__.VM,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex touch-none select-none transition-colors","vertical"===orientation&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===orientation&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",className),orientation,...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_1__.lr,{className:"bg-border relative flex-1 rounded-full"})});ScrollArea.__docgenInfo={description:"",methods:[],displayName:"ScrollArea"},ScrollBar.__docgenInfo={description:"",methods:[],displayName:"ScrollBar",props:{orientation:{defaultValue:{value:'"vertical"',computed:!1},required:!1}}}},"./lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn,z:()=>formatBytes});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tailwind-merge@2.6.0/node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}function formatBytes(bytes,opts={}){const{decimals=0,sizeType="normal"}=opts;if(0===bytes)return"0 Byte";const i=Math.floor(Math.log(bytes)/Math.log(1024));var _accurateSizes_i,_sizes_i;return`${(bytes/Math.pow(1024,i)).toFixed(decimals)} ${"accurate"===sizeType?null!==(_accurateSizes_i=["Bytes","KiB","MiB","GiB","TiB"][i])&&void 0!==_accurateSizes_i?_accurateSizes_i:"Bytes":null!==(_sizes_i=["Bytes","KB","MB","GB","TB"][i])&&void 0!==_sizes_i?_sizes_i:"Bytes"}`}}}]);